
--DEMO--
local Demo = 
{
	IsSendLogin = false,
}

local this = Demo


function Demo.Start()
	print("Hello lua world")
	local sphere = UE.GameObject.CreatePrimitive(UE.PrimitiveType.Sphere)
	sphere.transform.localScale = UE.Vector3.one * 3
end


function Demo.Update()
	if(UE.Input.GetKeyDown("space")) then
		Debug.Log("Connect server")
		if(MF.Network.NetworkManager.Instance.States == MF.Network.ENetworkStates.Disconnect) then
			MF.Network.NetworkManager.Instance:ConnectServer("127.0.0.1", 10002)
		end
	end

	if(MF.Network.NetworkManager.Instance.States == MF.Network.ENetworkStates.Connected) then
		if(this.IsSendLogin == false) then
			this.IsSendLogin = true
			local msg = 
			{
				RpcId = 100,
				Account = "hello",
				Password = "1234",
			}
			NetSystem.SendMessage(ENetMessageID.C2R_Login, msg)
		end
	end
end

return Demo